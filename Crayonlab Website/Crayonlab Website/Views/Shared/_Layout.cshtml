@model Crayonlab.Models.ShopViewModel
@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService


@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crayonlab - Printing Services=s</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link href="https://fonts.cdnfonts.com/css/heaters" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="~/Content/site.css" />
    <link rel="stylesheet" href="~/css/navbar.css" />

 
</head>
<body>

    <nav>
        <div class="menu-toggle" id="menu-toggle">
            <i class="bi bi-list" style="font-size: 30px;"></i> <!-- Icon for the toggle button -->
        </div>

        <ul id="nav-list" class="ul-navbar">
            <li>
                <div class="logo">
                    <img src="~/Content/assets/logo.png" alt="Crayonlab Logo">
                </div>
            </li>
            <li>@Html.ActionLink("Home", "Index", "Home")</li>
            <li>@Html.ActionLink("Shop", "Index", "Shop")</li>
            <li>@Html.ActionLink("Product", "Index", "Product")</li>
            <li>@Html.ActionLink("Contact", "Index", "Contact")</li>
            <li class="search-container">
                <input type="text" class="search-input" placeholder="Search...">
                <span class="search-icon"><i class="bi bi-search"></i></span>
            </li>
            @if (User.Identity.IsAuthenticated)
{
            <li>
                <form asp-action="Logout" asp-controller="Account" method="post" style="display: inline;">
                    <button type="submit" class="logout-button" style="width: 120px; height: 40px;">Logout</button>
                </form>
            </li>
}

            <li>

                <div class="right-icons" style="display: flex; align-items: center;">
                    <div class="logo-right">
                        <img src="~/Content/assets/logo1.png" alt="Secondary Logo">
                    </div>
                    <div class="facebook-icon">
                        <a href="https://www.facebook.com" target="_blank">
                            <i class="bi bi-facebook" style="font-size: 30px;"></i>
                        </a>
                    </div>
                </div>
            </li>

        </ul>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const menuToggle = document.querySelector('.menu-toggle');
            const menuList = document.querySelector('.ul-navbar');
            let isMobileView = window.innerWidth <= 768;
            let previousWidth = window.innerWidth;

            // Initialize - hide menu on mobile by default
            if (isMobileView) {
                menuList.style.display = 'none';
            }

            // Toggle menu function
            function toggleMenu() {
                if (menuList.style.display === 'flex') {
                    menuList.style.display = 'none';
                } else {
                    menuList.style.display = 'flex';
                }
            }

            // Responsive behavior
            function handleResponsive() {
                const currentIsMobile = window.innerWidth <= 768;

                // Check if we crossed the breakpoint threshold
                if (isMobileView !== currentIsMobile) {
                    location.reload(); // Reload when switching between mobile/desktop
                    return;
                }

                if (currentIsMobile) {
                    // Mobile behavior
                    menuToggle.style.display = 'block';
                    menuList.style.display = 'none';
                    menuToggle.addEventListener('click', toggleMenu);
                } else {
                    // Desktop behavior
                    menuToggle.style.display = 'none';
                    menuList.style.display = 'flex';
                    menuToggle.removeEventListener('click', toggleMenu);
                }
            }

            // Initial setup
            handleResponsive();

            // Window resize event with debounce
            let resizeTimeout;
            window.addEventListener('resize', function () {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(function () {
                    // Only reload if crossing the breakpoint
                    const newIsMobile = window.innerWidth <= 768;
                    if ((previousWidth <= 768 && window.innerWidth > 768) ||
                        (previousWidth > 768 && window.innerWidth <= 768)) {
                        location.reload();
                    }
                    previousWidth = window.innerWidth;

                    // Still call handleResponsive for cases where we don't reload
                    handleResponsive();
                }, 100);
            });
        });
    </script>













    <main>
        @RenderBody()
    </main>
    <footer>
        <div class="footer-container">
            <!-- Logo -->
            <div class="footer-logo">
                <img src="~/Content/assets/logo3.png" alt="Crayonlab Logo">
                <i class="bi bi-facebook"></i>
            </div>
            <!-- Subscription Section -->
            <div class="footer-links">
                <div class="footer-subscribe">
                    <h3>Subscribe</h3>
                    <form>
                        <input type="email" placeholder="Your e-mail">
                        <button type="submit">Send →</button>
                    </form>
                    <p>Subscribe to our website to receive our discount.</p>
                </div>
                <div class="column">
                    <h4>Products</h4>
                    <ul>
                        <li>Corporate Shirt</li>
                        <li>T-Shirt & Esport Shirt</li>
                        <li>Hoodie Jacket</li>
                        <li>Long Sleeve</li>
                        <li>Jersey Set</li>
                        <li>Embroidery</li>
                    </ul>
                </div>
                <div class="column">
                    <h4>Home</h4>
                    <ul>
                        <li>Shop</li>
                        <li>Categories</li>
                        <li>About</li>
                        <li>Contact</li>
                    </ul>
                </div>
                <div class="column contact">
                    <h4>Contact Us</h4>
                    <form>
                        <input type="text" placeholder="Your Name" required>
                        <input type="email" placeholder="Your Email" required>
                        <input type="text" placeholder="Subject" required>
                        <textarea placeholder="Message" required></textarea>
                        <button type="submit">Send</button>
                    </form>
                    <p>Email: crayonlab2023@gmail.com</p>
                    <h4>Address</h4>
                    <p>Mandaue, Looc, Cebu</p>
                    <h4>Contact Number</h4>
                    <p>0908-629-0972</p>
                </div>
            </div>

            <!-- Bottom Section -->
            <div class="footer-bottom">
                <p>© 2024 Crayonlab. Powered by Crayonlab</p>
            </div>
        </div>
        </footer>

</body>
</html>
